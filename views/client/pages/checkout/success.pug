//- kế thừa header và footer của layout/default.pug
extends ../../layouts/default.pug
include ../../mixins/box-head.pug
include ../../mixins/alert.pug

block main
    
    .container.my-3
        .row
            .col-12
                +box-head("Đặt hàng thành công")
        
        .row 
            .col-12
                div(class="alert alert-success")| Đơn hàng của bạn đã được đặt thành công. Chúng tôi sẽ xử lý đơn hàng trong thời gian sớm nhất.
        if(order) 
            .row 
                .col-12
                    h4(class="mb-2") Thông tin cá nhân
                    table(class="table table-bordered")
                        tbody 
                            tr
                                td Họ tên
                                td 
                                    b #{order.userInfo.fullName}
                            tr 
                                td Số điện thoại 
                                td 
                                    b #{order.userInfo.phone}
                            tr 
                                td Địa chỉ 
                                td
                                    b #{order.userInfo.address}
            .row
                .col-12
                    h4(class="mb-2") Thông tin đơn hàng
                    table(class="table table-bordered")
                        thead  
                            tr 
                                td STT
                                td Ảnh 
                                td Tên
                                td Giá
                                td Số lượng
                                td Tổng tiền
                        tbody 
                            if(order.products.length > 0)
                                each item, index in order.products 
                                    tr
                                        td #{index + 1}
                                        td 
                                            img(
                                                src=item.productInfo.thumbnail,
                                                alt=item.productInfo.title, 
                                                class="img-fluid img-thumbnail"
                                                width="80px"
                                             )
                                        td #{item.productInfo.title}
                                        td #{item.price}$
                                        td #{item.quantity}
                                        td #{item.totalPrice}$
                    if(order.products.length > 0)
                        h3(class="text-right") Tổng đơn hàng: #{order.totalPrice}$